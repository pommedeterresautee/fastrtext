<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unsupervised learning • fastrtext</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">fastrtext</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/list_commands.html">List of commands</a>
    </li>
    <li>
      <a href="../articles/supervised_learning.html">Supervised learning</a>
    </li>
    <li>
      <a href="../articles/unsupervised_learning.html">Unsupervised learning</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pommedeterresautee/fastrtext">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Unsupervised learning</h1>
                        <h4 class="author">M. Benesty</h4>
            
            <h4 class="date">2018-01-08</h4>
          </div>

    
    
<div class="contents">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> <span class="kw">library</span>(fastrtext)
    
    <span class="kw">data</span>(<span class="st">"train_sentences"</span>)
    <span class="kw">data</span>(<span class="st">"test_sentences"</span>)
    texts &lt;-<span class="st"> </span><span class="kw">tolower</span>(train_sentences[,<span class="st">"text"</span>])
    tmp_file_txt &lt;-<span class="st"> </span><span class="kw">tempfile</span>()
    tmp_file_model &lt;-<span class="st"> </span><span class="kw">tempfile</span>()
    <span class="kw">writeLines</span>(<span class="dt">text =</span> texts, <span class="dt">con =</span> tmp_file_txt)
    <span class="kw"><a href="../reference/execute.html">execute</a></span>(<span class="dt">commands =</span> <span class="kw">c</span>(<span class="st">"skipgram"</span>, <span class="st">"-input"</span>, tmp_file_txt, <span class="st">"-output"</span>, tmp_file_model, <span class="st">"-verbose"</span>, <span class="dv">1</span>))</code></pre></div>
<pre><code>## 
Read 0M words
## Number of words:  2061
## Number of labels: 0
## 
Progress: 100.0% words/sec/thread:   17818 lr:  0.000000 loss:  2.678494 ETA:   0h 0m</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">    model &lt;-<span class="st"> </span><span class="kw"><a href="../reference/load_model.html">load_model</a></span>(tmp_file_model)</code></pre></div>
<pre><code>## add .bin extension to the path</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">    <span class="co"># test word extraction</span>
    dict &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_dictionary.html">get_dictionary</a></span>(model)
    <span class="kw">print</span>(<span class="kw">head</span>(dict, <span class="dv">5</span>))</code></pre></div>
<pre><code>## [1] "the"  "&lt;/s&gt;" "of"   "to"   "and"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># print vector</span>
  <span class="kw">print</span>(<span class="kw"><a href="../reference/get_word_vectors.html">get_word_vectors</a></span>(model, <span class="kw">c</span>(<span class="st">"time"</span>, <span class="st">"timing"</span>)))</code></pre></div>
<pre><code>##             [,1]         [,2]        [,3]      [,4]       [,5]
## time   0.1352161  0.084252656  0.01862481 0.1574860 0.11332716
## timing 0.1501587 -0.006450801 -0.04102177 0.2373107 0.07022931
##                [,6]       [,7]        [,8]        [,9]      [,10]
## time    0.006105525 0.05983066 -0.08826274 -0.02246268 -0.3945723
## timing -0.018649848 0.10328792 -0.06873684  0.03169691 -0.3912299
##             [,11]       [,12]      [,13]      [,14]     [,15]     [,16]
## time   -0.1626451 -0.06923354 -0.1508722 -0.1681810 0.1927230 0.3008584
## timing -0.1851530 -0.09406438 -0.0899910 -0.1722154 0.2433295 0.2804071
##             [,17]      [,18]      [,19]     [,20]       [,21]       [,22]
## time   0.05976561 -0.1684946 -0.1269158 0.1337675 -0.06411208 -0.01633715
## timing 0.10039582 -0.1081866 -0.1423019 0.1270211 -0.08027305 -0.04835665
##              [,23]     [,24]      [,25]      [,26]     [,27]      [,28]
## time   -0.02762114 0.1535406 0.03966729 -0.1418620 0.1589948 -0.2121136
## timing -0.05927088 0.1732085 0.10290495 -0.2262657 0.1551081 -0.2665055
##             [,29]       [,30]        [,31]      [,32]      [,33]     [,34]
## time   0.09038813 -0.03232887 -0.007082824 0.06007733 -0.4002127 0.2459392
## timing 0.13239083 -0.02735084  0.005737080 0.05463379 -0.5213923 0.3327238
##              [,35]      [,36]      [,37]      [,38]      [,39]      [,40]
## time   -0.06835403 0.05177065 -0.3528613 -0.1062596 -0.2182008 -0.1599136
## timing -0.16699812 0.08214818 -0.3547730 -0.0502477 -0.1749607 -0.1794123
##              [,41]     [,42]     [,43]        [,44]      [,45]      [,46]
## time   -0.03702310 0.4190111 0.1988566 -0.013398736 -0.2046294 -0.1230296
## timing -0.02980653 0.5286276 0.1779348  0.004243122 -0.2552769 -0.1041468
##             [,47]       [,48]      [,49]     [,50]       [,51]       [,52]
## time   0.04968167 -0.09592821 -0.1987257 0.1480647 -0.01870334 -0.13809569
## timing 0.05273179 -0.18495347 -0.2443994 0.1712033 -0.03889650 -0.09703946
##            [,53]      [,54]      [,55]       [,56]      [,57]      [,58]
## time   0.1829299 0.14997031 -0.1234709 -0.10563397 -0.1903375 -0.2220478
## timing 0.2782559 0.08377963 -0.1306320 -0.09594801 -0.1604910 -0.1874039
##             [,59]      [,60]       [,61]      [,62]      [,63]     [,64]
## time   0.10696485 0.03974331 -0.06670719 -0.1013047 -0.1866144 0.2655841
## timing 0.06084418 0.02668591 -0.08164432 -0.1240701 -0.1918336 0.2042880
##             [,65]      [,66]      [,67]      [,68]       [,69]      [,70]
## time   0.07875204 -0.2809778 -0.1525502 -0.2092138  0.01235841 -0.1054267
## timing 0.01619799 -0.3018692 -0.1979567 -0.1757296 -0.04216686 -0.1126457
##              [,71]      [,72]       [,73]       [,74]      [,75]     [,76]
## time   0.008833137 0.09430931 -0.11384768 -0.06664044 0.06344212 0.1719200
## timing 0.035164136 0.07924483 -0.08815061 -0.02104052 0.03209406 0.1803605
##              [,77]     [,78]       [,79]     [,80]       [,81]       [,82]
## time   -0.08074331 0.2040927 -0.09572982 0.2101351 -0.02521177 -0.06931233
## timing -0.03496999 0.1658666 -0.17333639 0.1891244  0.06542129 -0.10458448
##              [,83]      [,84]     [,85]        [,86]      [,87]     [,88]
## time   -0.06850314 0.04274620 0.1094662  0.001554707 0.07662411 0.2866438
## timing -0.11991585 0.06051478 0.1163740 -0.055349387 0.10176855 0.3316405
##             [,89]     [,90]     [,91]     [,92]       [,93]       [,94]
## time   -0.1904306 -0.128268 0.3453815 0.1401594  0.07396037 -0.03442324
## timing -0.1822452 -0.124091 0.3610604 0.1261757 -0.01658009  0.03070390
##             [,95]      [,96]       [,97]       [,98]      [,99]    [,100]
## time   -0.1933418 0.03290040 -0.10038411 -0.08251252 -0.1031819 0.1025778
## timing -0.2063844 0.08866103 -0.08668025 -0.07518687 -0.0668657 0.1392414</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># test word distance</span>
  <span class="kw"><a href="../reference/get_word_distance.html">get_word_distance</a></span>(model, <span class="st">"time"</span>, <span class="st">"timing"</span>)</code></pre></div>
<pre><code>##            [,1]
## [1,] 0.03515023</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  <span class="co"># free memory</span>
  <span class="kw">unlink</span>(tmp_file_txt)
  <span class="kw">unlink</span>(tmp_file_model)
  <span class="kw">rm</span>(model)
  <span class="kw">gc</span>()</code></pre></div>
<pre><code>##           used (Mb) gc trigger (Mb) max used (Mb)
## Ncells  528446 28.3     940480 50.3   750400 40.1
## Vcells 1041141  8.0    2060183 15.8  1386841 10.6</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Michaël Benesty.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
